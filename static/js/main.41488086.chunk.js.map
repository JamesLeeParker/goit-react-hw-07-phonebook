{"version":3,"sources":["Phonebook/Phonebook.module.scss","services/api.js","redux/contactsActions.js","Phonebook/Contacts/Contacts.jsx","Filter/Filter.jsx","Form/Form.jsx","services/localStorage.js","Phonebook/Phonebook.jsx","App/App.jsx","redux/contactsReducer.js","redux/store.js","index.js"],"names":["module","exports","BASE_URL","fetchData","a","fetch","resolve","json","res","getData","options","then","console","log","setContacts","createAction","addContact","deleteContact","onFilter","addItem","contact","dispatch","item","finalOptions","method","body","JSON","stringify","headers","api","onDeleteContact","id","Contacts","contacts","useSelector","state","items","filter","useDispatch","btnDelete","e","elemId","target","closest","getAttribute","normalizeFilter","toLowerCase","name","includes","getFilteredContact","map","phone","type","onClick","Filter","label","onChange","value","Form","useState","setContact","setPhone","nanoid","useEffect","getContacts","key","localStorage","setItem","error","storage","onSubmit","preventDefault","find","alert","pattern","title","required","Phonebook","delContact","onFilterChange","className","s","wrapper","App","setFilter","itemsReducer","createReducer","builder","addCase","_","action","payload","filterReducer","contactsReducer","combineReducers","logger","createLogger","collapsed","getState","logEntry","store","configureStore","reducer","middleware","getDefaultMiddleware","concat","devTools","process","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.41488086.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Phonebook_wrapper__3tcJy\"};","const BASE_URL = \"https://61c49e84f1af4a0017d996d1.mockapi.io/api/v1/contacts\";\n\nconst fetchData = async (options = {}) => {\n  const resolve = await fetch(BASE_URL);\n  const res = await resolve.json();\n  return res;\n  //   return res.ok ? res.json : Promise.reject(new Error(res.statusText));\n};\n\nconst getData = (options) => fetchData(options);\n\ngetData().then(console.log);\n\nconst saveItem = (item, options = {}) => {\n  const finalOptions = {\n    method: \"POST\",\n    body: JSON.stringify(item),\n    headers: {\n      \"Content-Type\": \"application/json; charset=UTF-8\",\n    },\n  };\n  fetch(BASE_URL, finalOptions);\n};\n\n// const saveItem = (item, options = {}) => {\n//   const finalOptions = {\n//     method: \"POST\",\n//     body: JSON.stringify(item),\n//     headers: {\n//       \"Content-Type\": \"application/json; charset=UTF-8\",\n//     },\n//     ...options,\n//   };\n//   return fetchData(finalOptions);\n// };\n\n// const deleteItem = (id, options = {}) =>\n//   fetchData(`/${id}`, { method: \"DELETE\", ...options });\n\nconst deleteItem = (id) => {\n  fetch(`${BASE_URL}/${id}`, { method: \"DELETE\" });\n};\n\nexport { getData, saveItem, deleteItem };\n","import { createAction } from \"@reduxjs/toolkit\";\nimport { useDispatch } from \"react-redux\";\nimport * as api from \"../services/api\";\n\nconst setContacts = createAction(\"contacts/contacts_set\");\nconst addContact = createAction(\"contacts/contact_add\");\nconst deleteContact = createAction(\"contacts/contact_delete\");\nconst onFilter = createAction(\"contacts/filter_change\");\n\nconst API_ENDPOINT = \"contacts\";\n\nconst getContacts = () => (dispatch) => {\n  api.getData().then((contacts) => dispatch(setContacts(contacts)));\n};\n\nconst addItem = (contact) => (dispatch) => {\n  console.log(contact);\n  api.saveItem(contact);\n  dispatch(addContact(contact));\n};\n\nconst onDeleteContact = (id) => (dispatch) => {\n  api.deleteItem(id);\n  dispatch(deleteContact(id));\n};\n\n// const setContacts = (contacts = []) => ({\n//   type: \"contacts/contacts_set\",\n//   payload: contacts,\n// });\n\n// const addContact = (contact) => ({\n//   type: \"contacts/contact_add\",\n//   payload: contact,\n// });\n\n// const deleteContact = (id) => ({\n//   type: \"contacts/contact_delete\",\n//   payload: id,\n// });\n\n// const onFilter = (text = \"\") => ({\n//   type: \"contacts/filter_change\",\n//   payload: text,\n// });\n\nexport {\n  deleteContact,\n  addContact,\n  setContacts,\n  onFilter,\n  getContacts,\n  addItem,\n  onDeleteContact,\n};\n","import { useSelector, useDispatch } from \"react-redux\";\r\n\r\nimport { onDeleteContact } from \"../../redux/contactsActions\";\r\n\r\nexport default function Contacts() {\r\n  const contacts = useSelector((state) => state.contacts.items);\r\n  const filter = useSelector((state) => state.contacts.filter);\r\n  // const contacts = useSelector((state) => state.items);\r\n  const dispatch = useDispatch();\r\n\r\n  const btnDelete = (e) => {\r\n    const elemId = e.target.closest(\"li\").getAttribute(\"id\");\r\n    return onDeleteContact(elemId)(dispatch);\r\n  };\r\n  // const btnDelete = (e) => {\r\n  //   const elemId = e.target.closest(\"li\").getAttribute(\"id\");\r\n  //   return dispatch(deleteContact(elemId));\r\n  // };\r\n\r\n  const getFilteredContact = () => {\r\n    const normalizeFilter = filter.toLowerCase();\r\n    return contacts.filter((contact) => {\r\n      console.log(\"✈️ ~ contact\", contact);\r\n      return contact.name.toLowerCase().includes(normalizeFilter);\r\n    });\r\n  };\r\n\r\n  return getFilteredContact().map(({ id, name, phone }) => {\r\n    return (\r\n      <li id={id} key={id}>\r\n        <span>{name}</span>: <span>{phone}</span>\r\n        <button type=\"button\" onClick={btnDelete}>\r\n          delete\r\n        </button>\r\n      </li>\r\n    );\r\n  });\r\n}\r\n","import { useDispatch } from \"react-redux\";\r\nimport { onFilter } from \"../redux/contactsActions\";\r\n\r\nexport default function Filter({ label = \"\" }) {\r\n  const dispatch = useDispatch();\r\n\r\n  const onFilterChange = (e) => {\r\n    // console.log(e.target.value);\r\n    dispatch(onFilter(e.target.value));\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <label>\r\n        {label}\r\n        <input type=\"text\" onChange={onFilterChange} />\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { addContact, setContacts } from \"../redux/contactsActions\";\r\nimport { getContacts, addItem } from \"../redux/contactsActions\";\r\nimport * as storage from \"../services/localStorage\";\r\nimport s from \"./Forem.module.scss\";\r\n\r\nconst STORAGE_KEY = \"contacts\";\r\n\r\nexport default function Form() {\r\n  const [name, setContact] = useState(\"\");\r\n  const [phone, setPhone] = useState(\"\");\r\n  const contact = { id: nanoid(), name, phone };\r\n  const dispatch = useDispatch();\r\n  const contacts = useSelector((state) => state.contacts.items);\r\n  // const contacts = useSelector((state) => state.items);\r\n\r\n  useEffect(() => {\r\n    getContacts()(dispatch);\r\n  }, []);\r\n  // useEffect(() => {\r\n  //   const savedContacts = storage.get(STORAGE_KEY);\r\n  //   if (savedContacts) {\r\n  //     dispatch(setContacts(savedContacts));\r\n  //   }\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    storage.save(STORAGE_KEY, contacts);\r\n  }, [contact]);\r\n\r\n  const handleInputName = (e) => setContact(e.target.value);\r\n  const handleInputNumber = (e) => setPhone(e.target.value);\r\n  const handleAddContact = (e) => {\r\n    e.preventDefault();\r\n    if (\r\n      contacts.find(\r\n        (item) => item.name.toLowerCase() === contact.name.toLowerCase()\r\n      )\r\n    )\r\n      return alert(\"NO!\");\r\n\r\n    addItem(contact)(dispatch);\r\n    // dispatch(addContact(contact));\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleAddContact}>\r\n      <h2>Name contact</h2>\r\n      <label>\r\n        <p>Name:</p>\r\n        <input\r\n          onChange={handleInputName}\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={name}\r\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\r\n          required\r\n        />\r\n      </label>\r\n      <label>\r\n        <p>Phone number:</p>\r\n        <input\r\n          onChange={handleInputNumber}\r\n          type=\"tel\"\r\n          name=\"number\"\r\n          value={phone}\r\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\r\n          required\r\n        />\r\n      </label>\r\n      <button>Add contact</button>\r\n    </form>\r\n  );\r\n}\r\n","const save = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (error) {\n    return null;\n  }\n};\n\nconst get = (key) => {\n  try {\n    return JSON.parse(localStorage.getItem(key));\n  } catch (error) {\n    return null;\n  }\n};\n\nconst remove = (key) => {\n  try {\n    return localStorage.removeItem(key);\n  } catch (error) {\n    return null;\n  }\n};\n\nexport { get, save, remove };\n","import Contacts from \"./Contacts/Contacts\";\r\nimport Filter from \"../Filter/Filter\";\r\nimport Form from \"../Form/Form\";\r\nimport s from \"./Phonebook.module.scss\";\r\n\r\nconst Phonebook = ({\r\n  contacts,\r\n  delContact,\r\n  addContact,\r\n  filter,\r\n  onFilterChange,\r\n}) => {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <h1>Phonebook</h1>\r\n      <Form value={addContact} />\r\n      <h1>Contacts</h1>\r\n      <Filter\r\n        value={filter}\r\n        label={\"Finde contact by name:\"}\r\n        onFilterChange={onFilterChange}\r\n      />\r\n      <ul>\r\n        <Contacts contacts={contacts} delContact={delContact} />\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Phonebook;\r\n","import { nanoid } from \"nanoid\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Phonebook from \"../Phonebook/Phonebook\";\r\n// import * as storage from \"../services/localStorage\";\r\n\r\nconst STORAGE_KEY = \"contacts\";\r\n\r\nconst App = () => {\r\n  const [contacts, setContacts] = useState([]);\r\n  const [filter, setFilter] = useState(\"\");\r\n\r\n  // useEffect(() => {\r\n  //   const savedContacts = storage.get(STORAGE_KEY);\r\n  //   if (savedContacts) {\r\n  //     setContacts(savedContacts);\r\n  //     // this.setState({ contacts: savedContacts });\r\n  //   }\r\n  // }, []);\r\n\r\n  // useEffect(\r\n  //   (contacts) => {\r\n  //     storage.save(STORAGE_KEY, contacts);\r\n  //   },\r\n  //   [contacts]\r\n  // );\r\n\r\n  // const getAddContacts = (value) => {\r\n  //   setContacts([...contacts, value]);\r\n  // };\r\n\r\n  // const inputValue = (e) => {\r\n  //   e.preventDefault();\r\n  //   const contact = {\r\n  //     id: nanoid(),\r\n  //     name: e.target[0].value,\r\n  //     number: e.target[1].value,\r\n  //   };\r\n\r\n  // e.target[0].value = \"\";\r\n  // e.target[1].value = \"\";\r\n\r\n  //   if (\r\n  //     contacts.find(\r\n  //       (item) => item.name.toLowerCase() === contact.name.toLowerCase()\r\n  //     )\r\n  //   )\r\n  //     return alert(\"NO!\");\r\n  //   return getAddContacts(contact);\r\n  // };\r\n\r\n  // const deleteContact = (id) => {\r\n  //   const newArr = contacts.filter((contact) => contact.id !== id);\r\n  //   setContacts(newArr);\r\n  // };\r\n\r\n  const handleFilterChange = (value) => {\r\n    setFilter(value);\r\n  };\r\n\r\n  const getFilteredContact = () => {\r\n    // const { contacts, filter } = this.state;\r\n\r\n    const normalizeFilter = filter.toLowerCase();\r\n    return contacts.filter((contact) => {\r\n      return contact.name.toLowerCase().includes(normalizeFilter);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Phonebook\r\n        contacts={getFilteredContact()}\r\n        onFilterChange={handleFilterChange}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { combineReducers } from \"redux\";\nimport { createReducer } from \"@reduxjs/toolkit\";\nimport {\n  deleteContact,\n  addContact,\n  setContacts,\n  onFilter,\n} from \"./contactsActions\";\n\nconst itemsReducer = createReducer([], (builder) => {\n  builder\n    .addCase(setContacts, (_, action) => action.payload)\n    .addCase(addContact, (state, action) => [...state, action.payload])\n    .addCase(deleteContact, (state, action) =>\n      state.filter((contact) => contact.id !== action.payload)\n    );\n});\n\nconst filterReducer = createReducer(\"\", {\n  [onFilter]: (_, action) => action.payload,\n});\n\nconst contactsReducer = combineReducers({\n  items: itemsReducer,\n  filter: filterReducer,\n});\n\nexport { contactsReducer };\n// export { itemsReducer, filterReducer };\n","// import { createStore, combineReducers } from \"redux\";\n// import { devToolsEnhancer } from \"redux-devtools-extension\";\nimport { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport { createLogger } from \"redux-logger\";\n// import { itemsReducer, filterReducer } from \"./contactsReducer\";\nimport { contactsReducer } from \"./contactsReducer\";\n\n// const rootReducer = combineReducers({\n//   contacts: contactsReducer,\n// });\nconst logger = createLogger({\n  collapsed: (getState, action, logEntry) => !logEntry.error,\n});\n\nconst store = configureStore({\n  reducer: {\n    contacts: contactsReducer,\n  },\n  middleware: (getDefaultMiddleware) => getDefaultMiddleware().concat(logger),\n\n  devTools: process.env.NODE_ENV !== \"production\",\n});\n\n// const store = createStore(rootReducer, devToolsEnhancer());\n\nexport default store;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport App from \"./App/App.jsx\";\nimport store from \"./redux/store\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}